<app-header></app-header>

<ion-content class="ion-padding">
  <ion-card *ngFor="let post of posts" class="post-card">
    <ion-item lines="none" class="header-item">
      <ion-label class="titulo">{{ post.evento.titulo }}</ion-label>
      <ion-note slot="end" class="fecha">{{ post.fecha }}</ion-note>
    </ion-item>

    <div class="img-container">
      <ion-img [src]="post.imagen" [alt]="post.evento.titulo" class="img-post"></ion-img>
    </div>

    <div class="action-buttons">
      <ion-button class="btn-like" shape="round" (click)="likePost(post)">
        <ion-icon name="heart-outline"></ion-icon>
        Me gusta ({{ post.likes }})
      </ion-button>
      <ion-button class="btn-comment" shape="round" (click)="abrirComentarios(post)">
        <ion-icon name="chatbubble-outline"></ion-icon>
        Comentar ({{ post.comentarios.length }})
      </ion-button>
    </div>

    <div class="comments-section" *ngIf="post.mostrarComentarios">
      <ion-list>
        <ion-item *ngFor="let comentario of post.comentarios">
          <ion-label>{{ comentario.autor }}: {{ comentario.texto }}</ion-label>
        </ion-item>
      </ion-list>
      <ion-input placeholder="Escribe un comentario..." class="comment-input"></ion-input>
      <ion-button expand="block" class="btn-enviar">Enviar</ion-button>
    </div>
  </ion-card>
</ion-content>

<app-footer></app-footer>
